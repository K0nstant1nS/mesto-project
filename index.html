<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mesto">
    <meta name="author" content="Соловьев Константин">
    <meta name="keywords" content="Mesto">
    <link rel="stylesheet" href="./pages/index.css">
    <title>Место</title>
</head>
<body class="page">
    <div class="page__content">
        <header class="header">
            <a href="#"><img class="header__logo" alt="Лого" src="./images/Mesto_logo.svg"></a>
        </header>
        <section class="profile">
            <div class="profile__person">
                <img alt="Жак-Ив Кусто" src="./images/kusto.jpg" class="profile__image">
                <div class="profile__person-desription">
                    <div class="profile__name-and-edit"><h1 class="profile__name">Жак-Ив Кусто</h1><button type="button" class="profile__edit-button"></button></div>
                    <p class="profile__about">Исследователь океана</p>
                </div>
            </div>
            <button type="button" class="profile__add-button"></button>
        </section>
        <section class="places-cards">
            <article class="card">
                <img alt="Монастырь в горах" src="./images/karachaevo.jpg" class="card__image">
                <div class="card__attributes-container">
                    <h2 class="card__caption">Карачаевск</h2><button type="button" class="card__like card__like_disabled"></button>
                </div>
            </article>
            <article class="card">
                <img alt="Вид на гору с полей" src="./images/elbrus.jpg" class="card__image">
                <div class="card__attributes-container">
                    <h2 class="card__caption">Гора Эльбрус</h2><button type="button" class="card__like card__like_disabled"></button>
                </div>
            </article>
            <article class="card">
                <img alt="Скалистая гора" src="./images/dombay.jpg" class="card__image">
                <div class="card__attributes-container">
                    <h2 class="card__caption">Домбай</h2><button type="button" class="card__like card__like_disabled"></button>
                </div>
            </article>
            <article class="card">
                <img alt="Вид на гору с полей" src="./images/elbrus.jpg" class="card__image">
                <div class="card__attributes-container">
                    <h2 class="card__caption">Гора Эльбрус</h2><button type="button" class="card__like card__like_disabled"></button>
                </div>
            </article>
            <article class="card">
                <img alt="Скалистая гора" src="./images/dombay.jpg" class="card__image">
                <div class="card__attributes-container">
                    <h2 class="card__caption">Домбай</h2><button type="button" class="card__like card__like_disabled"></button>
                </div>
            </article>
            <article class="card">
                <img alt="Монастырь в горах" src="./images/karachaevo.jpg" class="card__image">
                <div class="card__attributes-container">
                    <h2 class="card__caption">Карачаево-Черкеск</h2><button type="button" class="card__like card__like_disabled"></button>
                </div>
            </article>
        </section>
        <footer class="footer">
            <p class="footer__author">© 2022. Соловьев Константин</p>
        </footer>
</div>
<div id="profile__edit" class="popup">
    <div class="popup__profile-popup">
        <h3 class="popup__caption">Редактировать профиль</h3>
        <form name="guest-form" class="popup__profile-form">
            <fieldset class="popup__person">
                <input name="guest-name" class="popup__text-input" type="text" value="Жак-Ив Кусто">
                <input name="guest-about" class="popup__text-input" value="Исследователь океана" type="text">
            </fieldset>
            <button type="submit" class="popup__save">Сохранить</button>
        </form>
        <button type="button" class="popup__close"></button>
    </div>
</div>
<div id="profile__add" class="popup popup_opened">
    <div class="popup__profile-popup">
        <h3 class="popup__caption">Новое место</h3>
        <form name="card-form" class="popup__profile-form">
            <fieldset class="popup__person">
                <input name="place-name" class="popup__text-input" type="text" placeholder="Название">
                <input name="place-url" class="popup__text-input" placeholder="Ссылка на картинку" type="text">
            </fieldset>
            <button type="submit" class="popup__save">Создать</button>
        </form>
        <button type="button" class="popup__close"></button>
    </div>
</div>

<script>

  //Отмена поведения по умолчанию для submit
    let saveButtonElementsList = document.querySelectorAll(".popup__save");

    function formSubmitHandler (evt) {
        evt.preventDefault(); 
    }

    saveButtonElementsList.forEach(function(item){
        return item.addEventListener("click", formSubmitHandler)
    })

  // Код для закрытия/открытия форм
    let closeButtonsList = document.querySelectorAll(".popup__close");
    let profileEditButton = document.querySelector(".profile__edit-button");
    let profileAddButton = document.querySelector(".profile__add-button");

    function addOpenPopupEvent(element){
        element.addEventListener("click",function(){
            let elemClassName = element.classList[0];
            let popupId = elemClassName.split("-")[0];
            document.querySelector("#" + popupId).classList.add("popup_opened")
        })
    }

    addOpenPopupEvent(profileEditButton);
    addOpenPopupEvent(profileAddButton);

    closeButtonsList.forEach(function(item){
       return item.addEventListener("click", function(){
        item.parentElement.parentElement.classList.remove("popup_opened")
       })
    });

  // Код для внесения в value формы данных из profile__person
    let personNameElement = document.querySelector(".profile__name");
    let personAboutElement = document.querySelector(".profile__about");
    let personNameInput = document.querySelector("[name='guest-name']");
    let personAboutInput = document.querySelector("[name='guest-about']");
    let saveButtonPerson = saveButtonElementsList[0];

    saveButtonPerson.addEventListener("click",function(){
        personNameElement.textContent = personNameInput.value;
        personAboutElement.textContent = personAboutInput.value;
    })


    
</script>
</body>
</html>